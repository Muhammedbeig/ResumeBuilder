Deep Link + App-Only Download Flow (Quick Guide)

1) What is Deep Link Scheme?
- It is the URL scheme your Android app is registered to open.
- Example scheme: eclassify
- Links that open the app must start with: eclassify://

AndroidManifest example:
<data android:scheme="eclassify" />

If Panel uses a different scheme than the app, the app will NOT open.

2) What is dl_token and where does it come from?
- dl_token is generated by the website when user clicks Download.
- The website calls: POST /api/app-download-links
- The response includes a resolver URL:
  http://<PANEL_HOST>/l/<dl_token>
- This URL is embedded in the QR code and in the “Open in App” button.

3) What the resolver link does (Panel)
- Public link: GET /l/<dl_token>
- It tries to open the app using an Android intent URL that includes your scheme + package name.
- If the app is not installed, it redirects to Play Store with:
  referrer=dl_token=<dl_token>

4) What happens in the app
- If app is installed: it opens and reads dl_token directly.
- If app is not installed: Play Store opens; on first launch the app reads dl_token via Install Referrer.
- App calls Panel API:
  GET /api/app-download-links/<dl_token>
  POST /api/app-download-links/<dl_token>/download

5) Panel settings you must fill
- Deep Link Scheme: MUST match AndroidManifest scheme.
- Android package name: MUST match your app’s package name.
- Play Store link: MUST be your app’s store URL.

6) Quick checklist
- Scheme in Panel == scheme in AndroidManifest.
- Package name in Panel == Android package.
- Play Store link in Panel is correct.
- Website download button shows QR and resolver link.

Example
- Scheme: eclassify
- App accepts: eclassify://download?dl_token=...
- Resolver link: http://localhost/Panel/public/l/<dl_token>

